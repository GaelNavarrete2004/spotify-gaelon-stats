{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gael1\\\\spotify-gaelon-stats\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getAuthUrl, fetchFromSpotify } from './spotifyAuth';\nimport Playlists from './components/Playlist/Playlist';\nimport Discovery from './components/Discovery/Discovery';\nimport RecentlyPlayed from './components/Recently Played/RecentlyPlayed';\nimport Statistics from './components/Stats/Stats';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [token, setToken] = useState(null);\n  const [activeTab, setActiveTab] = useState('playlists');\n  const [error, setError] = useState(null);\n\n  // Verifica si hay un token en el hash de la URL\n  useEffect(() => {\n    const hash = window.location.hash;\n    const storedToken = localStorage.getItem('spotifyAccessToken');\n\n    // Si ya tenemos un token en localStorage, lo usamos directamente\n    if (storedToken) {\n      setToken(storedToken);\n      return;\n    }\n\n    // Si encontramos el token en la URL, lo guardamos en localStorage\n    if (hash) {\n      const token = new URLSearchParams(hash.replace('#', '?')).get('access_token');\n      if (token) {\n        localStorage.setItem('spotifyAccessToken', token);\n        setToken(token);\n      } else {\n        setError('Error: Token de acceso no encontrado');\n      }\n    }\n  }, []);\n\n  // Función para cerrar sesión\n  const handleLogout = () => {\n    localStorage.removeItem('spotifyAccessToken');\n    setToken(null);\n    window.location.hash = ''; // Limpia el hash de la URL\n  };\n\n  // Si hay un error, mostramos un mensaje\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen bg-gray-900 text-white\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Si no hay token, redirigimos al usuario a la página de login de Spotify\n  if (!token) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen bg-gray-900\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: getAuthUrl(),\n        className: \"px-6 py-3 text-white bg-green-500 rounded-full hover:bg-green-600 transition-colors\",\n        children: \"Iniciar sesi\\xF3n con Spotify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Si ya tenemos el token, renderizamos la interfaz de usuario\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"bg-gray-800 p-4 flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"flex space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('playlists'),\n            className: `px-4 py-2 rounded ${activeTab === 'playlists' ? 'bg-green-500' : 'hover:bg-gray-700'}`,\n            children: \"Playlists\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('discovery'),\n            className: `px-4 py-2 rounded ${activeTab === 'discovery' ? 'bg-green-500' : 'hover:bg-gray-700'}`,\n            children: \"Discovery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('recentlyplayed'),\n            className: `px-4 py-2 rounded ${activeTab === 'recentlyplayed' ? 'bg-green-500' : 'hover:bg-gray-700'}`,\n            children: \"Recently Played\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('statistics'),\n            className: `px-4 py-2 rounded ${activeTab === 'statistics' ? 'bg-green-500' : 'hover:bg-gray-700'}`,\n            children: \"Stats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"px-4 py-2 rounded bg-red-500 hover:bg-red-600 transition-colors\",\n        children: \"Cerrar sesi\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container mx-auto mt-8 p-4\",\n      children: [activeTab === 'playlists' && /*#__PURE__*/_jsxDEV(Playlists, {\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 39\n      }, this), activeTab === 'discovery' && /*#__PURE__*/_jsxDEV(Discovery, {\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 39\n      }, this), activeTab === 'recentlyplayed' && /*#__PURE__*/_jsxDEV(RecentlyPlayed, {\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 44\n      }, this), activeTab === 'statistics' && /*#__PURE__*/_jsxDEV(Statistics, {\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 40\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"rtQyheJDNgeKQch2+HVskODMwzk=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","getAuthUrl","fetchFromSpotify","Playlists","Discovery","RecentlyPlayed","Statistics","jsxDEV","_jsxDEV","App","_s","token","setToken","activeTab","setActiveTab","error","setError","hash","window","location","storedToken","localStorage","getItem","URLSearchParams","replace","get","setItem","handleLogout","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","onClick","_c","$RefreshReg$"],"sources":["C:/Users/gael1/spotify-gaelon-stats/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getAuthUrl, fetchFromSpotify } from './spotifyAuth';\nimport Playlists from './components/Playlist/Playlist';\nimport Discovery from './components/Discovery/Discovery';\nimport RecentlyPlayed from './components/Recently Played/RecentlyPlayed';\nimport Statistics from './components/Stats/Stats';\n\nexport default function App() {\n  const [token, setToken] = useState(null);\n  const [activeTab, setActiveTab] = useState('playlists');\n  const [error, setError] = useState(null);\n\n  // Verifica si hay un token en el hash de la URL\n  useEffect(() => {\n    const hash = window.location.hash;\n    const storedToken = localStorage.getItem('spotifyAccessToken');\n\n    // Si ya tenemos un token en localStorage, lo usamos directamente\n    if (storedToken) {\n      setToken(storedToken);\n      return;\n    }\n\n    // Si encontramos el token en la URL, lo guardamos en localStorage\n    if (hash) {\n      const token = new URLSearchParams(hash.replace('#', '?')).get('access_token');\n      if (token) {\n        localStorage.setItem('spotifyAccessToken', token);\n        setToken(token);\n      } else {\n        setError('Error: Token de acceso no encontrado');\n      }\n    }\n  }, []);\n\n  // Función para cerrar sesión\n  const handleLogout = () => {\n    localStorage.removeItem('spotifyAccessToken');\n    setToken(null);\n    window.location.hash = ''; // Limpia el hash de la URL\n  };\n\n  // Si hay un error, mostramos un mensaje\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-gray-900 text-white\">\n        <p>{error}</p>\n      </div>\n    );\n  }\n\n  // Si no hay token, redirigimos al usuario a la página de login de Spotify\n  if (!token) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-gray-900\">\n        <a href={getAuthUrl()} className=\"px-6 py-3 text-white bg-green-500 rounded-full hover:bg-green-600 transition-colors\">\n          Iniciar sesión con Spotify\n        </a>\n      </div>\n    );\n  }\n\n  // Si ya tenemos el token, renderizamos la interfaz de usuario\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white\">\n      <nav className=\"bg-gray-800 p-4 flex justify-between items-center\">\n        <ul className=\"flex space-x-4\">\n          <li>\n            <button\n              onClick={() => setActiveTab('playlists')}\n              className={`px-4 py-2 rounded ${activeTab === 'playlists' ? 'bg-green-500' : 'hover:bg-gray-700'}`}\n            >\n              Playlists\n            </button>\n          </li>\n          <li>\n            <button\n              onClick={() => setActiveTab('discovery')}\n              className={`px-4 py-2 rounded ${activeTab === 'discovery' ? 'bg-green-500' : 'hover:bg-gray-700'}`}\n            >\n              Discovery\n            </button>\n          </li>\n          <li>\n            <button\n              onClick={() => setActiveTab('recentlyplayed')}\n              className={`px-4 py-2 rounded ${activeTab === 'recentlyplayed' ? 'bg-green-500' : 'hover:bg-gray-700'}`}\n            >\n              Recently Played\n            </button>\n          </li>\n          <li>\n            <button\n              onClick={() => setActiveTab('statistics')}\n              className={`px-4 py-2 rounded ${activeTab === 'statistics' ? 'bg-green-500' : 'hover:bg-gray-700'}`}\n            >\n              Stats\n            </button>\n          </li>\n        </ul>\n        <button\n          onClick={handleLogout}\n          className=\"px-4 py-2 rounded bg-red-500 hover:bg-red-600 transition-colors\"\n        >\n          Cerrar sesión\n        </button>\n      </nav>\n      <main className=\"container mx-auto mt-8 p-4\">\n        {activeTab === 'playlists' && <Playlists token={token} />}\n        {activeTab === 'discovery' && <Discovery token={token} />}\n        {activeTab === 'recentlyplayed' && <RecentlyPlayed token={token} />}\n        {activeTab === 'statistics' && <Statistics token={token} />}\n      </main>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}